---
layout: post
title: 如何选择一台合适的服务器
date: 2017-07-19
categories: blog
tags: [服务器]
description: 转载文章

---



> 本文转载自 http://1841cisco.blog.51cto.com/6087818/1174435 以及 http://sopace.blog.51cto.com/1227753/1422520，经过整理发现原文应该转载自英文文章，并进行了机器翻译，故其中用很多语句并不通顺，我没有找原文，而是根据上下文所表达的意思，进行了修改。


##1.需求评估

- 服务器运行什么应用？

  1. asp.net 网站---酷睿服务器可以满足

  - windows form 应用---至少双线程至强服务器，同时必须具备RAID功能
  - 数据库--- **双线程至强CPU/8GB内存/RAID1**

- 需要支持多少用户访问？

  至少200人

- 需要多大空间来存储数据？

  大于1TB

- 我的业务有多重要？

  分五个等级的话，我的业务为4

##2.选择什么CPU

> 毫无疑问，CPU 主频越高，其性能也越高；两个 CPU 要比一个 CPU 更好；至强肯定比酷睿更生猛。

建议：

- 预算有限，酷睿服务器
- 运行多种程序，单线程至强（如x3330）或最新的酷睿 i3 / i7 （双核四线程）
- 运行 SQLServer , 多用户在线，至少选择 E5504 （或更高主频）的至强服务器。

##3.需要多大的内存

运行数据库，则需要 4 GB 以上的内存，运行多个程序，则需要 8 GB 以上内存

##4.需要怎样的硬盘存储系统

- 硬盘数量
- 容量
- 接口类型
- 转速
- 缓存大小
- raid卡型号及级别
- 外部存储系统（SAN,NAS或DAS）

##5.网卡

一台服务器配备一个百兆网卡就可以了

##6.磁盘阵列知识

1. RAID0 （0 级盘阵列）

   RAID 0 又称数据分块，把数据散播在多个盘上，没有容错法子。其容量和数据传输速率是单机容量的 N 倍， N 为构成盘阵列的磁盘机的总数， I / O 传输速率高，但均匀无妨碍能力 MTTF (MeanTimeToFailure) 只有单台磁盘机的 N 分之一，**因此 0 级盘阵列的可靠性最差** 

2. RAID1 （1 级盘阵列）

   RAID 1 又称镜像 （Mirror）盘，采用镜像容错来保证可靠性。即每一个事变盘都有一个镜像盘，每次写数据时必须写入镜像盘，读数据只从事变盘读出。一旦事变盘发生故障立即转入镜像盘，从镜像盘中读出数据。然后由体系在恢复事变盘精确数据。因此这种行动数据可以重构，但事变盘和镜像盘必须维持逐一对应。这种盘阵列可靠性很高，但其有效容量减小到总容量一半以下。**因此 RAID 1 常用于对堕落率要求极严的操纵场合，如财务、金融等**

3. RAID2（2 级盘阵列）

   RAID 2 又称位交错，它采用汉明码作盘错查验，无需在每个扇区的掉队行 CRC （CyclicReDundancycheck）查验。汉明码是一种（n,k）线性分组码，n 为码字的长度，k 为数据的位数，r 为用于查验的位数，故有：n = 2r - 1r =  n - k,因此按位交错存取最有利于作汉明码查验。**这种盘适于大数据的读写，但冗余信息开销照样太大，榨取了这类盘的普及操纵** 

   *已被淘汰* 

4. RAID3（3 级盘阵列）

   RAID 3 为单盘容错并行传输阵列盘。它的特性是将查验盘减小为一个( RAID 2 校验盘为多个，RAID1查验 盘为1比1)，数据以位或字节的行动存于各盘(分散记实在组内相同扇区号的各个磁盘机上)。**它的优点是所有阵列的带宽可以充沛操作，使批量数据传输工夫减小；其缺点是每次读写要牵动所有组，每次只能完成一次I/O。**

5. RAID4（4 级盘阵列）

   RAID 4 是一种可独立地对组内各盘举办读写的阵列。其校验盘也只有一个。RAID 4 和 RAID 3 的不同是：RAID 3 是按位或按字节交错存取，而 **RAID 4 是按块(扇区)存取，可以单独地对某个盘举办操纵 **，它无需象 RAID 3 那样，那怕每一次小I/O操纵 也要涉及全组，只需涉及组中两台磁盘机(一台数据盘，一台查验盘)即可。从而前进了小量数据的I/O速率。

6. RAID5（5 级盘阵列）

   RAID 5 是一种旋转奇偶校验独立存取的阵列。它和 RAID 1、2、3、4各盘阵列的差别 点，是它没有牢靠的校验盘，而是按某种正直 把其冗余的奇偶校验信息匀称 地散播在阵列所属的全部 磁盘上。于是在同一台磁盘机上既有数据信息也有校验信息。这一变化处理了争用校验盘的问题 ，因此 RAID 5 内允许在同一组内并发进行多个写操纵 。以是 RAID 5 即适于大数据量的操纵 ，也适于种种事宜处理问题 。**它是一种快速，大容量和容错散播公道的磁盘阵列。**

   RAID 5 至少需要 3 块磁盘。一块磁盘故障，不会导致数据丢失，连续两块磁盘故障将导致数据丢失。

7. RAID6（6 级盘阵列）

   RAID 6 是一种双维奇偶校验独立存取的磁盘阵列。它的冗余的检、纠错信息匀称 散播在全部磁盘上，而数据仍以巨细可变的块以交错行动存于各盘。这类盘阵列可允许双盘堕落 。

   主要用于要求数据绝对不能出错的场合，昂贵。

8. RAID7（7 级盘阵列）

   RAID 7 是在 RAID 6 的基础上，采用了 cache 能力 ，它使得传输率和响应速率都有较大的前进。Cache是一种高速缓冲存储器，即数据在写入磁盘阵列早年，先写入cache中。一样平常 采用 cache 分块巨细和磁盘阵列中数据分块巨细 相同 ，即一块 cache 分块对应一块磁盘分块。在写入时将数据分别写入两个独立的 cache ，如许纵然此中有一个 cache 出故障，数据也不会损失。写操纵将直接在 cache 级响应 ，然后再转到磁盘阵列。数据从 cache 写到磁盘阵列时，同一磁道的数据将在一次操纵中完成，停止了不少块数据多次写的题目 ，提高了速率 。在读出时，主机也是直接从 cache 中读出，而不是从阵列盘上读取，镌汰与磁盘读操纵 次数，如许比拟充沛地操作了磁盘带宽。
   如许 cache 和磁盘阵列能力 的结合，增补了磁盘阵列的不敷 (如分块写哀求相应 差等弱点)，从而使所有体系以高效、快速、大容量、高可靠以及灵活、利便的存储体系供给给用户，从而满意 了当前的能力生长的必要 ，尤其是多媒体体系 的必要 。

   访问速率非常高，但一旦系统断电，cache 中的数据就会丢失，因此需要和 UPS 一起工作，价格昂贵。 